{% load static %}
<!DOCTYPE html>
<html lang='en'>
<head>


    {% block links %}
    {% endblock %}
</head>
<body>
<header class="border-bottom pb-3 mb-5">
    <div class="section border-bottom">
        <div class="container" id="header_container">
            {% if user.is_authenticated %}
                <div class="dropdown" id="logged-in-dropdown">
                    <button class="btn  dropdown-toggle" type="button" data-bs-toggle="dropdown"
                            aria-expanded="false">
                        Hi <b>{{ user.first_name }}!</b>
                    </button>
                    <ul class="dropdown-menu p-2">
                        <li>
                            <div class="dropdown-item d-flex">
                                <div class="d-flex flex-row justify-content-start align-items-center">
                                    <i class="fas fa-user m-1" id="user-icon"></i>
                                    <div class="m-1">{{ user.first_name }} {{ user.last_name }}</div>
                                </div>
                            </div>
                        </li>
                        <li>
                            <div class="dropdown-item d-flex">
                                <div class="d-flex flex-row justify-content-start align-items-center">
                                    <i class="fa-solid fa-id-badge m-1" id="user-icon"></i>
                                    <div class="m-1">{{ user.username }}</div>
                                </div>
                            </div>
                        </li>
                        <li>
                            <a class="dropdown-item d-flex" href="{% url 'logout' %}">
                                <div class="d-flex flex-row justify-content-start align-items-center">
                                    <i class="fas fa-sign-out-alt m-1"></i>

                                    <div class="m-1">Log Out</div>
                                </div>
                            </a>
                        </li>
                    </ul>
                </div>
                <div class="d-flex align-items-center justify-content-start">
                    <div class="nav-item">
                        <a class='nav-link' href="{% url 'auction_create' %}">Sell</a>
                    </div>
                    <div class="dropdown">
                        <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown"
                                aria-expanded="false">
                            Watchlist
                        </button>
                        <div class="dropdown-menu p-2">
                            <div class="mini-watchlist">
                                {% for auction in watchlist %}
                                    <a class="mini-watchlist-item" href="{% url 'auction_details_view' auction.id %}">
                                        {% if auction.image %}
                                            <img src="{{ auction.image.image.url }}" alt="{{ auction.title }}">
                                        {% else %}
                                            <img src="path/to/default/image.jpg" alt="Default Image">
                                        {% endif %}
                                        <div>
                                            <h6>{{ auction.title }}</h6>
                                            <div>
                                                <!-- Product price-->
                                                {% if auction.current_bid %}
                                                    ${{ auction.current_bid }}
                                                {% else %}
                                                    ${{ auction.starting_bid }}
                                                {% endif %}
                                            </div>
                                        </div>
                                    </a>
                                    <div class="dropdown-divider"></div>

                                {% endfor %}
                            </div>
                        </div>
                    </div>
                    <div class="dropdown">
                        <button class="btn  dropdown-toggle" type="button" data-bs-toggle="dropdown"
                                aria-expanded="false">
                            Discover
                        </button>
                        <ul class="dropdown-menu p-2">
                            <li class='nav-item p-2'>
                                <a class='nav-link' href="{% url 'active_auctions_view' %}">
                                    All Auctions
                                </a>
                            </li>
                            <li class='nav-item p-2'>
                                <a class='nav-link' href="{% url 'active_auctions_view' %}">
                                    My Auctions
                                </a>
                            </li>
                            <li class='nav-item p-2'>
                                <a class='nav-link' href="{% url 'auction_create' %}">
                                    Create Auction
                                </a>
                            </li>

                            <li class='nav-item p-2'>
                                <a class='nav-link' href="{% url 'dashboard' %}">
                                    Dashboard
                                </a>
                            </li>
                            <li class="nav-item p-2">Recently Viewed</li>
                            <li class='nav-item p-2'>
                                <a class='nav-link' href="{% url 'watchlist_view' %}">
                                    Watchlist
                                </a>
                            </li>

                            <li class="nav-item p-2">Purchase History</li>


                        </ul>
                    </div>
                    <!-- Nav Item - Alerts -->
                    <div class='nav-item mx-1'>
                        <a class='nav-link' id="alert-container" href='#'>
                            <i class='fa-regular fa-bell fa-lg'></i>
                            <!-- Counter - Alerts -->
                            <span class='badge rounded-pill bg-danger badge-counter'>5+</span>
                        </a>
                    </div>
                </div>
            {% else %}
                <div class="dropdown" id="logged-in-dropdown">
                    <button class="btn  dropdown-toggle" type="button" data-bs-toggle="dropdown"
                            aria-expanded="false">
                        Login / Register
                    </button>
                    <ul class="dropdown-menu p-2">
                        <li>
                            <a class="dropdown-item d-flex" href="{% url 'login' %}">
                                <div class="d-flex flex-row justify-content-start align-items-center">
                                    <i class="fas fa-sign-out-alt m-1"></i>

                                    <div class="m-1">Log In</div>
                                </div>
                            </a>
                        </li>
                        <li>
                            <a class="dropdown-item d-flex" href="{% url 'register' %}">
                                <div class="d-flex flex-row justify-content-start align-items-center">
                                    <i class="fas fa-sign-out-alt m-1"></i>

                                    <div class="m-1">Register</div>
                                </div>
                            </a>
                        </li>
                    </ul>
                </div>
            {% endif %}

        </div>
    </div>
    <div class="section mt-3">
        <div class="container" id="lower-header-container">
            <a class="logo" id="logo-container" href="{% url 'index' %}">
                <img src="{% static "images/logo3.jpg" %}" alt="Healthcare Auctions Logo">
                <div class="">
                    <div>Healthcare</div>
                    <div>Auctions</div>
                </div>
            </a>
            <div class="dropdown" id="category-dropdown">
                <button class="btn dropdown-toggle wrap-button" type="button" data-bs-toggle="dropdown"
                        aria-expanded="false">
                    Shop By Category
                </button>
                {#                <ul class="dropdown-menu p-2">#}
                {#                    {% for category in categories %}#}
                {#                        <li>{{ category.category_name }}</li>#}
                {#                    {% endfor %}#}
                {#                </ul>#}
                <ul class="dropdown-menu p-2" id="category-dropdown-content">
                    {% for category in categories %}
                         {% include 'category_snippet.html' with category=category %}
{#                        {% if not category.parent %}#}
{#                            {% include 'category_snippet.html' with category=category %}#}
{#                        {% endif %}#}
                    {% endfor %}
                </ul>
            </div>
            <form class="navbar-search w-100">
                <div class="input-group" style="position: relative;">
                    <i class="fas fa-search"></i>
                    <input type="text" class="form-control" id="auction-search" placeholder="Search..." aria-label="Search"
                           aria-describedby="basic-addon2">
                    <select class="custom-select">
                        <option selected>All Categories</option>
                        {% for category in categories %}
                            <option value="{{ category.category_name }}">{{ category.category_name }}</option>
                        {% endfor %}
                    </select>
                    <div class="input-group-append">
                        <button class="btn btn-primary" id="search-button" type="button">Search</button>
                    </div>
                </div>
            </form>

        </div>
    </div>
</header>

<link href='{% static "css/header.css" %}' rel='stylesheet'>

{##}
{#<header>#}
{#    <nav class="navbar navbar-expand-lg">#}
{#        <a class="logo navbar-brand" href="{% url 'index' %}">#}
{#            <img src="{% static "images/HealthcareAuctionsLogo_no_bg.png" %}" alt="Auction 1">#}
{#            <div>Healthcare Auctions</div>#}
{#        </a>#}
{#        <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav"#}
{#                aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">#}
{#            <i class="fa-solid fa-bars"></i>#}
{#        </button>#}
{#        <div class="collapse navbar-collapse" id="navbarNav">#}
{#            <ul class="navbar-nav ms-auto">#}
{#                <li class="nav-item">#}
{#                    <a class="nav-link" href="/">#}
{#                        <i class="fa-solid fa-house"></i> Home#}
{#                    </a>#}
{#                </li>#}
{#                <li class="nav-item">#}
{#                    <a class="nav-link" href="#">#}
{#                        <i class="fa-solid fa-info" id="header-info-circle">About</i>#}
{#                        <i class="fas fa-info-circle" id="header-info-circle"></i> About#}
{#                    </a>#}
{#                </li>#}
{#                <li class="nav-item">#}
{#                    <a class="nav-link" href="#">#}
{#                        <i class="fa-solid fa-bell-concierge"></i> Services#}
{#                    </a>#}
{#                </li>#}
{#                <li class="nav-item">#}
{#                    <a class="nav-link" href="/auction/active">#}
{#                        <i class="fa-solid fa-gavel"></i> Auctions#}
{#                    </a>#}
{#                </li>#}
{#                {% if user.is_authenticated %}#}
{#                    <li class="nav-item dropdown" id="user-ops">#}
{#                        <a class="nav-link dropdown-toggle" href="#" id="userDropdown" role="button"#}
{#                           data-bs-toggle="dropdown" aria-haspopup="true" aria-expanded="false">#}
{#                            <i class="fas fa-user" id="user-icon"></i>#}
{#                            <div>{{ user.username }}</div>#}
{#                        </a>#}
{#                        <div class="dropdown-menu dropdown-menu-end" id="userDropdownContent"#}
{#                             aria-labelledby="userDropdown">#}
{#                            <a class="dropdown-item" href="{% url 'dashboard' %}">#}
{#                                <i class='fas fa-fw fa-chart-area'></i>#}
{#                                <div>Dashboard</div>#}
{#                            </a>#}
{##}
{#                            <div class="dropdown-divider"></div>#}
{#                            <a class="dropdown-item" href="{% url 'active_auctions_view' %}">#}
{#                                <i class="fa-solid fa-gavel"></i>#}
{#                                <div>All Auctions</div>#}
{#                            </a>#}
{##}
{#                            <div class="dropdown-divider"></div>#}
{#                            <a class="dropdown-item" href="{% url 'watchlist_view' %}">#}
{#                                <i class='fas fa-fw fa-eye'></i>#}
{#                                <div>Watchlist</div>#}
{#                            </a>#}
{##}
{#                            <div class="dropdown-divider"></div>#}
{#                            <a class="dropdown-item" href="{% url 'logout' %}">#}
{#                                <i class="fas fa-sign-out-alt"></i>#}
{#                                <div>Log Out</div>#}
{#                            </a>#}
{#                        </div>#}
{#                    </li>#}
{#                {% else %}#}
{#                    <li class="nav-item">#}
{#                        <a class="nav-link" href="{% url 'login' %}">#}
{#                            <i class="fas fa-sign-in-alt"></i> Log In#}
{#                        </a>#}
{#                    </li>#}
{#                    <li class="nav-item">#}
{#                        <a class="nav-link" href="{% url 'register' %}">#}
{#                            <i class="fas fa-user-plus"></i> Register#}
{#                        </a>#}
{#                    </li>#}
{#                {% endif %}#}
{#            </ul>#}
{#        </div>#}
{#    </nav>#}
{#</header>#}
{##}
{##}
</body>
</html>




